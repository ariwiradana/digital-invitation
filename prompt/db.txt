CREATE TABLE themes (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  thumbnail VARCHAR(255),
  price INTEGER,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE clients (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  slug VARCHAR(255) UNIQUE,
  address VARCHAR(255),
  address_url VARCHAR(255),
  cover VARCHAR(255),
  address_full TEXT,
  theme_id INT REFERENCES themes(id) ON DELETE SET NULL,
  date VARCHAR(100),
  start_time VARCHAR(100),
  end_time VARCHAR(100),
  gallery TEXT[],
  status VARCHAR(20) CHECK (status IN ('paid', 'unpaid')),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE participants (
  id SERIAL PRIMARY KEY,
  client_id INT REFERENCES clients(id) ON DELETE SET NULL,
  name VARCHAR(255),
  nickname VARCHAR(255),
  address TEXT,
  child VARCHAR(255),
  parents_male VARCHAR(255),
  parents_female VARCHAR(255),
  image VARCHAR(255),
  gender VARCHAR(20) CHECK (gender IN ('male', 'female')),
  role VARCHAR(20) CHECK (role IN ('bride', 'groom', 'participant')),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  facebook VARCHAR(255) DEFAULT NULL,
  twitter VARCHAR(255) DEFAULT NULL,
  instagram VARCHAR(255) DEFAULT NULL,
  tiktok VARCHAR(255) DEFAULT NULL,
);

CREATE TABLE reviews (
  id SERIAL PRIMARY KEY,
  client_id INT REFERENCES clients(id) ON DELETE SET NULL,
  name VARCHAR(255),
  attendant VARCHAR(20) CHECK (attendant IN ('Hadir', 'Tidak Hadir', 'Masih Ragu')),
  wishes TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
