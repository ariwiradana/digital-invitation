CREATE TABLE themes (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  thumbnail VARCHAR(255),
  price INTEGER,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE clients (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  slug VARCHAR(255) UNIQUE,
  address VARCHAR(255),
  address_url VARCHAR(255),
  cover VARCHAR(255),
  address_full TEXT,
  theme_id INT REFERENCES themes(id) ON DELETE SET NULL,
  date VARCHAR(100),
  start_time VARCHAR(100),
  end_time VARCHAR(100),
  gallery TEXT[],
  status VARCHAR(20) CHECK (status IN ('paid', 'unpaid')),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE participants (
  id SERIAL PRIMARY KEY,
  client_id INT REFERENCES clients(id) ON DELETE SET NULL,
  name VARCHAR(255),
  nickname VARCHAR(255),
  address TEXT,
  child VARCHAR(255),
  parents_male VARCHAR(255),
  parents_female VARCHAR(255),
  image VARCHAR(255),
  gender VARCHAR(20) CHECK (gender IN ('male', 'female')),
  role VARCHAR(20) CHECK (role IN ('bride', 'groom', 'participant')),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE reviews (
  id SERIAL PRIMARY KEY,
  client_id INT REFERENCES clients(id) ON DELETE SET NULL,
  name VARCHAR(255),
  attendant VARCHAR(20) CHECK (attendant IN ('Hadir', 'Tidak Hadir', 'Masih Ragu')),
  wishes TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);


INSERT INTO clients (name, slug, address, address_url, address_full, theme_id, date, time, gallery) 
VALUES 
('John Doe', 'wedding-john-jane', 'Bali', 'https://maps.example.com/location-bali', 'Bali, Indonesia', 1, '2024-12-15', '15:00:00', ARRAY['https://dbwuumshu7s1w5jw.public.blob.vercel-storage.com/meundang/ari-juli/gallery/LINE_ALBUM_Prewed_230913_74-Sz7PoZUsKCt9i2vKkLq9IHLQs0uJIJ-MK1lPW184GOP0vIRHhzSM4VbtkeNxN.jpg', 'https://dbwuumshu7s1w5jw.public.blob.vercel-storage.com/meundang/ari-juli/gallery/LINE_ALBUM_Prewed_230913_127-jPW00pohhCXRtJ39RpZ8sqtu9j4sYc-aCjJwHJ4XZEIGz9ZI98DJ5HNamtZn4.jpg']),
('Ari Wiradana', 'mepandes-ari', 'Denpasar', 'https://maps.example.com/location-denpasar', 'Denpasar, Bali, Indonesia', 1, '2024-10-20', '10:00:00', ARRAY['https://dbwuumshu7s1w5jw.public.blob.vercel-storage.com/meundang/ari-juli/gallery/LINE_ALBUM_Prewed_230913_127-jPW00pohhCXRtJ39RpZ8sqtu9j4sYc-aCjJwHJ4XZEIGz9ZI98DJ5HNamtZn4.jpg', 'https://dbwuumshu7s1w5jw.public.blob.vercel-storage.com/meundang/ari-juli/gallery/LINE_ALBUM_Prewed_230913_74-Sz7PoZUsKCt9i2vKkLq9IHLQs0uJIJ-MK1lPW184GOP0vIRHhzSM4VbtkeNxN.jpg']);

INSERT INTO participants (client_id, name, nickname, address, child, parents_male, parents_female, image, gender) 
VALUES 
(1, 'John Doe', 'Johnny', '123 Main St, Bali', 'second', 'Robert Doe', 'Linda Doe', 'https://example.com/john.jpg', 'male'),
(1, 'Jane Smith', 'Janie', '456 Elm St, Bali', 'first', 'James Smith', 'Emily Smith', 'https://example.com/jane.jpg', 'female'),
(2, 'Ari Wibowo', 'Ari', '789 Oak St, Denpasar', 'first', 'Budi Wibowo', 'Rina Wibowo', 'https://example.com/ari.jpg', 'male'),
(2, 'Siti Fatimah', 'Siti', '321 Pine St, Denpasar', 'second', 'Hassan Fatimah', 'Nina Fatimah', 'https://example.com/siti.jpg', 'female');
